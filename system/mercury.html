<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mercury 8K Surface View</title>
<style>
html,body{
    margin:0;height:100%;overflow:hidden;background:#000;
    font-family:Arial,Helvetica,sans-serif;
}
canvas{display:block;}
#ui{
    position:absolute;bottom:20px;left:20px;z-index:10;
    color:#fff;background:rgba(0,0,0,0.45);
    backdrop-filter:blur(6px);
    padding:15px 20px;border-radius:10px;width:260px;
    line-height:1.5em;
}
#ui h2{margin:5px 0;font-size:20px;color:#ffd27f;}
#ui label,#ui input,#ui button{font-size:15px;color:#fff;}
#ui button{
    background:#444;border:1px solid #888;border-radius:6px;
    padding:5px 10px;margin-top:6px;cursor:pointer;
}
#ui button:hover{background:#666;}
#ui small{color:#ccc;}
</style>
</head>
<body>
<div id="ui">
    <h2>☿ Mercury</h2>
    <p><b>Surface:</b> 8K true-color texture (Solar System Scope)</p>
    <p><b>Rotation Period:</b> ≈ 58.6 Earth days</p>
    <label><input type="checkbox" id="autoRotate" checked> Auto Rotate</label><br>
    <label>Rotation Speed: <input type="range" id="speedSlider" min="0" max="5" value="1" step="0.1"></label><br>
    <button id="resetCam">Reset View</button><br>
    <small>Use mouse to rotate / scroll to zoom</small>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
// camera rendering
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(70,innerWidth/innerHeight,0.1,2000);
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(innerWidth,innerHeight);
renderer.setPixelRatio(devicePixelRatio);
document.body.appendChild(renderer.domElement);

// lighting
const sunLight = new THREE.DirectionalLight(0xffe0b2,2);
sunLight.position.set(8,2,10);
scene.add(sunLight);
scene.add(new THREE.AmbientLight(0x302010,0.6));

// mercury texture
const mercuryGeo = new THREE.SphereGeometry(3,256,256);
const mercuryMat = new THREE.MeshPhongMaterial({shininess:4});
const loader = new THREE.TextureLoader();
loader.load(
  "https://upload.wikimedia.org/wikipedia/commons/2/27/Solarsystemscope_texture_8k_mercury.jpg",
  tex=>{
      tex.colorSpace = THREE.SRGBColorSpace;
      mercuryMat.map = tex;
      mercuryMat.needsUpdate = true;
  }
);
const mercury = new THREE.Mesh(mercuryGeo,mercuryMat);
scene.add(mercury);

// soft atmospheric glow (thin, since Mercury almost has none)
const glow = new THREE.Mesh(
    new THREE.SphereGeometry(3.05,64,64),
    new THREE.MeshPhongMaterial({color:0xfff2e0,transparent:true,opacity:0.04})
);
scene.add(glow);

// background stars
const starsGeo = new THREE.BufferGeometry();
const count=6000,pos=new Float32Array(count*3);
for(let i=0;i<count*3;i++) pos[i]=(Math.random()-0.5)*2000;
starsGeo.setAttribute('position',new THREE.BufferAttribute(pos,3));
const starsMat=new THREE.PointsMaterial({color:0xffffff,size:1});
scene.add(new THREE.Points(starsGeo,starsMat));

// camera controls
let camDist=10,rotX=0.3,rotY=0.5;
function updateCam(){
    camera.position.x = camDist*Math.sin(rotY)*Math.cos(rotX);
    camera.position.y = camDist*Math.sin(rotX);
    camera.position.z = camDist*Math.cos(rotY)*Math.cos(rotX);
    camera.lookAt(0,0,0);
}
updateCam();

let dragging=false,prev={x:0,y:0};
renderer.domElement.addEventListener('mousedown',e=>{dragging=true;prev={x:e.clientX,y:e.clientY};});
window.addEventListener('mouseup',()=>dragging=false);
window.addEventListener('mousemove',e=>{
    if(!dragging)return;
    const dx=e.clientX-prev.x,dy=e.clientY-prev.y;
    rotY+=dx*0.01;rotX+=dy*0.01;
    rotX=Math.max(-Math.PI/2,Math.min(Math.PI/2,rotX));
    prev={x:e.clientX,y:e.clientY};
    updateCam();
});
window.addEventListener('wheel',e=>{
    camDist+=e.deltaY*0.01;
    camDist=Math.max(5,Math.min(40,camDist));
    updateCam();
});

// controls
const autoRotate=document.getElementById("autoRotate");
const speedSlider=document.getElementById("speedSlider");
document.getElementById("resetCam").addEventListener("click",()=>{camDist=10;rotX=0.3;rotY=0.5;updateCam();});

// animations
function animate(){
    requestAnimationFrame(animate);
    const speed=parseFloat(speedSlider.value);
    if(autoRotate.checked) mercury.rotation.y += 0.001*speed; // prograde
    renderer.render(scene,camera);
}
animate();

// --- Resize ---
window.addEventListener('resize',()=>{
    camera.aspect=innerWidth/innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(innerWidth,innerHeight);
});
</script>
</body>
</html>
